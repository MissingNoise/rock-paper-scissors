<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <div>
            <h1>Rock-Paper-Scissor</h1>
            <h2 id='playerScore'>0:0</h2>
            <h3 id='comment'>Let's play! First to 5.</h3>
        </div>
        <button id='rock'>Rock</button>
        <button id='paper'>Paper</button>
        <button id='scissor'>Scissor</button>

        <script>
            const buttons = document.querySelectorAll('button');
            const showScore = document.querySelector('#playerScore');
            const comment = document.querySelector('#comment');

            buttons.forEach((button) => {
                button.addEventListener('click', (e) => {
                    comment.textContent= playRound(button.id);
                    showScore.textContent= playerScore + ':' + computerScore;
                    if (computerScore == 5 || playerScore >= 5 ) {
                        if (playerScore >= 5) {
                            showScore.textContent = "You scored " + playerScore + " vs " + computerScore + ". You won!";
                        } else {
                            showScore.textContent = "You lost! You only scored " + playerScore + " vs " + computerScore + "."
                        }
                        computerScore = 0;
                        playerScore = 0;
                        comment.textContent = "Let's play again! First to 5."
                    }
                });

            });
            let computerChoices = ["rock", "paper", "scissor"];

            let computerPlay = () => computerChoices[Math.floor(Math.random() * (3))];
            
            function playRound(pChoice) {
                let playerPick = pChoice;
                playerPick = playerPick.toLowerCase();
                let computerPick = computerPlay();
                if (playerPick == computerPick) {
                    return "You both picked " + playerPick + '!';
                }
                if (playerPick == "rock") {
                    if (computerPick == "paper") {
                        computerScore++;
                        return "The computer picked " + computerPick + ". Computer wins!";
                    } else {
                        playerScore++;
                        return "The computer picked " + computerPick + ". You won!";
                    }
                }
                if (playerPick == "scissor") {
                    if (computerPick == "rock") {
                        computerScore++
                        return "The computer picked " + computerPick + ". Computer wins!";
                    } else {
                        playerScore++;
                        return "The computer picked " + computerPick + ". You won!";
                    }
                }
                if (playerPick == "paper") {
                    if (computerPick == "scissor") {
                        computerScore++;
                        return "The computer picked " + computerPick + ". Computer wins!";
                    } else {
                        playerScore++
                        return "The computer picked " + computerPick + ". You won!";
                    }
                }
                return "you didn't pick rock, paper or scissors."
            }
                
            let computerScore = 0;
            let playerScore = 0;
        </script>
    </body>
</html>